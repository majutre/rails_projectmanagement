<li class="task-item" data-task-id="<%= task.id %>">
    <div class="card mb-3">
        <div class="card-body">
            
            <div class="d-flex justify-content-between">
                
                <div class="task-icons mb-3">
                    <i class="fas fa-grip-vertical grip text-secondary grabbable"></i>
                    <%= render(ProgressBadgeComponent.new(status: task.status))%>
                </div>
                    
                <div>
                    <div class="dropdown float-start">
                        <button class="btn btn-sm btn-outline-<%= task.color_class %> dropdown-toggle mx-2" type="button" 
                            id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            <%= task.status %>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <% Task::STATUS_OPTIONS.each do |status| %>
                            <a class="dropdown-item" href="#"
                            data-reflex="click->StatusReflex#change"
                            data-id="<%= task.id %>"
                            data-status="<%= status[1] %>"> 
                            <%= status[0] %>
                            </a>
                        <% end %>
                        </ul>
                    </div>

                    <%= link_to edit_project_task_path(task.project, task), class: 'btn btn-secondary btn-sm' do %>
                        <i class="far fa-edit"></i>
                    <% end %>
                    <%= link_to [task.project, task], method: :delete, 
                        data: { confirm: "Are you sure you want to delete '#{task.name}'?" },
                        class: 'btn btn-dark btn-sm' do %>
                        <i class="far fa-trash-alt"></i>
                    <% end %>
                </div>

            </div>
            
            <h4 class='card-title mb-2'>
            <span><%= task.name %></span>
            </h4>
            <hr class="inner-card-hr" />
            <p class="mt-2"><%= task.description %></p>

        </div>
    </div>
</li>
